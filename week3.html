<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>IT 221 — Week 3: The Malware Menace</title>

  <!-- Bootstrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

  <style>
    :root{
      --bg:#070A12;
      --text:#E8ECFF;
      --muted:#A9B1D6;
      --grid:rgba(122,162,247,.12);
      --cyan:#33F6FF;
      --mag:#FF2BD6;
      --lime:#7CFF6B;
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --radius: 18px;
      --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      --sans: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
    }

    html, body { height: 100%; }
    body{
      margin:0;
      background: radial-gradient(1200px 700px at 80% 10%, rgba(255,43,214,.10), transparent 60%),
                  radial-gradient(900px 650px at 15% 25%, rgba(51,246,255,.12), transparent 55%),
                  radial-gradient(800px 600px at 50% 90%, rgba(124,255,107,.08), transparent 55%),
                  linear-gradient(180deg, #050713, var(--bg));
      color: var(--text);
      font-family: var(--sans);
      overflow:hidden; /* the slide itself scrolls */
      padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    }

    /* terminal grid */
    body::before{
      content:"";
      position:fixed; inset:0;
      background-image:
        linear-gradient(to right, var(--grid) 1px, transparent 1px),
        linear-gradient(to bottom, var(--grid) 1px, transparent 1px);
      background-size: 44px 44px;
      pointer-events:none;
      opacity:.55;
      mix-blend-mode: screen;
    }

    /* scanlines */
    body::after{
      content:"";
      position:fixed; inset:0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,.02) 0px,
        rgba(255,255,255,.02) 1px,
        transparent 2px,
        transparent 5px
      );
      pointer-events:none;
      opacity:.45;
    }

    .mono { font-family: var(--mono) !important; }
    .text-muted2 { color: var(--muted) !important; }

    .badge-course{
      padding: .35rem .65rem;
      border-radius: 999px;
      background: rgba(51,246,255,.10);
      border:1px solid rgba(51,246,255,.35);
      color: var(--cyan);
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size:.78rem;
    }

    .btn-terminal{
      border:1px solid rgba(232,236,255,.16);
      background: rgba(11,16,32,.7);
      color: var(--text);
      border-radius: 12px;
      padding: .55rem .75rem;
    }
    .btn-terminal:hover{ border-color: rgba(51,246,255,.55); box-shadow: 0 0 0 3px rgba(51,246,255,.12); }

    .deck{
      position: relative;
      border-radius: var(--radius);
      border: 1px solid rgba(232,236,255,.14);
      box-shadow: var(--shadow);
      overflow:hidden;
      background: linear-gradient(180deg, rgba(11,16,32,.70), rgba(10,15,26,.72));
      min-height: 0;
    }
    .deck::before{
      content:"";
      position:absolute; inset:0;
      background: radial-gradient(900px 500px at 40% 15%, rgba(51,246,255,.10), transparent 60%),
                  radial-gradient(700px 480px at 80% 85%, rgba(255,43,214,.10), transparent 55%);
      pointer-events:none;
      opacity:.85;
    }

    /* Slides are absolutely positioned; the active slide scrolls */
    .slide{
      position:absolute;
      inset:0;
      opacity:0;
      transform: translateY(8px) scale(.995);
      transition: opacity .22s ease, transform .22s ease;
      overflow-y:auto;
      -webkit-overflow-scrolling: touch;
      padding: 16px 14px 110px; /* extra bottom space so nothing gets trapped */
    }
    .slide.active{
      opacity:1;
      transform: translateY(0) scale(1);
    }

    .topline{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      color: var(--muted);
      font-size: .78rem;
      letter-spacing:.04em;
      flex-wrap:wrap;
    }

    .pip{ width:10px; height:10px; border-radius:50%; display:inline-block; box-shadow: 0 0 0 3px rgba(255,255,255,.03); background: rgba(232,236,255,.18); }
    .pip.cyan{ background: rgba(51,246,255,.85); }
    .pip.mag{ background: rgba(255,43,214,.85); }
    .pip.lime{ background: rgba(124,255,107,.85); }

    .h1{
      font-size: clamp(1.55rem, 4.1vw, 2.8rem);
      line-height:1.08;
      letter-spacing: -0.02em;
      margin: .35rem 0 0;
    }

    .subtitle{
      color: var(--muted);
      font-size: 0.95rem;
      margin-top: .5rem;
      max-width: 78ch;
    }

    .panel{
      background: rgba(7,10,18,.38);
      border: 1px solid rgba(232,236,255,.12);
      border-radius: 16px;
      padding: 12px 12px;
    }

    .kicker{
      font-family:var(--mono);
      color: var(--cyan);
      text-transform: uppercase;
      letter-spacing:.12em;
      font-size: .78rem;
      margin-bottom: .55rem;
    }

    .panel-content{
      color: var(--text);
      font-size: 1rem;
      line-height: 1.6;
      overflow-wrap: anywhere;
      word-break: break-word;
    }

    .codebox{
      font-family: var(--mono);
      font-size: .9rem;
      line-height: 1.45;
      color: #EAFDFF;
      background: rgba(5,7,19,.65);
      border: 1px solid rgba(51,246,255,.22);
      border-radius: 16px;
      padding: 12px 12px;
      white-space: pre;
      overflow:auto;
    }

    /* Sticky meta bar = always readable, never collides */
    .meta{
      position: sticky;
      bottom: 0;
      margin-top: 14px;
      padding: 10px 0 10px;
      border-top: 1px solid rgba(232,236,255,.10);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 12px;
      font-family: var(--mono);
      color: var(--muted);
      font-size: .78rem;
      background: linear-gradient(180deg, rgba(7,10,18,.05), rgba(7,10,18,.86));
      backdrop-filter: blur(6px);
    }

    .progress{
      height: 8px;
      border-radius: 999px;
      background: rgba(232,236,255,.12);
      overflow:hidden;
      border:1px solid rgba(232,236,255,.10);
    }
    .bar{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(51,246,255,.9), rgba(255,43,214,.85));
      box-shadow: 0 0 16px rgba(51,246,255,.25);
    }

    .notes{
      position: fixed;
      left: 12px;
      right: 12px;
      bottom: 12px;
      max-height: 55vh;
      overflow:auto;
      background: rgba(5,7,19,.86);
      border: 1px solid rgba(255,43,214,.25);
      border-radius: 16px;
      padding: 14px 14px;
      box-shadow: var(--shadow);
      display:none;
      z-index: 1055;
    }
    .notes.visible{ display:block; }
    .notes .hdr{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:10px;
      font-family: var(--mono);
      color: var(--mag);
      letter-spacing:.08em;
      text-transform:uppercase;
      font-size: .78rem;
      margin-bottom: 8px;
    }
    .notes p{ margin:0; color: var(--text); font-size: .95rem; line-height: 1.55; white-space: pre-wrap; }

    /* Glitch */
    .glitch{ position:relative; display:inline-block; text-shadow: 0 0 22px rgba(51,246,255,.18); }
    .glitch::before, .glitch::after{
      content: attr(data-text);
      position:absolute; left:0; top:0; width:100%;
      overflow:hidden; clip-path: inset(0 0 0 0); opacity:.75;
    }
    .glitch::before{ transform: translate(2px,-2px); color: var(--cyan); animation: glitch 2.2s infinite linear alternate-reverse; }
    .glitch::after{ transform: translate(-2px,2px); color: var(--mag); animation: glitch 1.8s infinite linear alternate; }
    @keyframes glitch{
      0%{ clip-path: inset(0 0 92% 0); }
      10%{ clip-path: inset(12% 0 55% 0); }
      20%{ clip-path: inset(65% 0 20% 0); }
      30%{ clip-path: inset(22% 0 58% 0); }
      40%{ clip-path: inset(76% 0 8% 0); }
      50%{ clip-path: inset(35% 0 44% 0); }
      60%{ clip-path: inset(8% 0 76% 0); }
      70%{ clip-path: inset(58% 0 26% 0); }
      80%{ clip-path: inset(18% 0 63% 0); }
      90%{ clip-path: inset(84% 0 7% 0); }
      100%{ clip-path: inset(42% 0 39% 0); }
    }

    /* Mobile: reclaim vertical space */
    @media (max-width: 560px){
      .hints { display:none !important; }
      .topline { font-size: 11px; }
      .subtitle { font-size: 13px; }
      .panel-content { font-size: .98rem; }
    }
  </style>
</head>
<body>
  <div class="container-fluid d-flex flex-column min-vh-100 position-relative" style="z-index:1;">

    <!-- Top Bar -->
    <header class="py-2">
      <div class="d-flex align-items-start justify-content-between flex-wrap gap-2">
        <div class="d-flex align-items-center gap-2 flex-wrap">
          <span class="badge-course mono">IT 221</span>
          <div class="mono text-muted2" style="font-size:.9rem;">Week 3 — Malware &amp; Computer Viruses (Threat Landscape)</div>
        </div>
        <div class="d-flex gap-2 flex-wrap">
          <button class="btn btn-terminal mono" id="prevBtn" type="button" title="Previous (←)">← Prev</button>
          <button class="btn btn-terminal mono" id="nextBtn" type="button" title="Next (→)">Next →</button>
          <button class="btn btn-terminal mono" id="notesBtn" type="button" title="Toggle speaker notes (S)">Notes</button>
        </div>
      </div>
    </header>

    <!-- Stage -->
    <main class="flex-grow-1 pb-2" style="min-height:0;">
      <div class="deck w-100 h-100 position-relative" id="deck"></div>

      <!-- Notes overlay -->
      <div class="notes" id="notes" aria-live="polite">
        <div class="hdr">
          <span>Speaker Notes</span>
          <span id="notesSlide">Slide 1</span>
        </div>
        <p id="notesText"></p>
      </div>
    </main>

    <!-- Bottom Bar -->
    <footer class="pb-3">
      <div class="d-flex align-items-center justify-content-between flex-wrap gap-2 mono text-muted2" style="font-size:.82rem;">
        <div class="d-flex align-items-center flex-wrap gap-2 hints">
          <span>Navigate:</span>
          <span class="px-2 py-1 rounded" style="border:1px solid rgba(232,236,255,.14); background: rgba(232,236,255,.08);">←</span>
          <span class="px-2 py-1 rounded" style="border:1px solid rgba(232,236,255,.14); background: rgba(232,236,255,.08);">→</span>
          <span class="px-2 py-1 rounded" style="border:1px solid rgba(232,236,255,.14); background: rgba(232,236,255,.08);">Space</span>
          <span class="ms-2">Notes:</span>
          <span class="px-2 py-1 rounded" style="border:1px solid rgba(232,236,255,.14); background: rgba(232,236,255,.08);">S</span>
          <span class="ms-2">Jump:</span>
          <span class="px-2 py-1 rounded" style="border:1px solid rgba(232,236,255,.14); background: rgba(232,236,255,.08);">1–9</span>
          <span class="px-2 py-1 rounded" style="border:1px solid rgba(232,236,255,.14); background: rgba(232,236,255,.08);">0=10</span>
          <span class="px-2 py-1 rounded" style="border:1px solid rgba(232,236,255,.14); background: rgba(232,236,255,.08);">G…Enter</span>
        </div>

        <div class="d-flex align-items-center gap-3">
          <div id="counter">1 / 18</div>
          <div class="progress" style="width:min(240px, 42vw);"><div class="bar" id="bar"></div></div>
        </div>
      </div>
    </footer>
  </div>

  <script>
    const slides = [
      {
        title: "The Malware Menace: Code, Vectors, and Payloads",
        subtitle: "Week 3 | Information Assurance and Security 1",
        kicker: "TITLE",
        left: `**Big Idea:** Malware is *software with intent*—code written to violate security goals.

**Tonight’s question:** When you see a suspicious file/link, can you reason:
1) *How did it get in?* (vector)
2) *What does it do?* (payload)
3) *Which CIA pillar breaks?* (Week 1)
4) *Which SecSDLC control could stop it?* (Week 2)`,
        rightTitle: "Lecture Thread",
        right: `**Continuity Map**
• Week 1 — CIA Triad: what must be protected
• Week 2 — SecSDLC: how to build & maintain securely
• Week 3 — Malware: how attackers break systems

**Today’s output:** a mental model you can apply to ANY malware family.`,
        notes: "Set expectations: malware is not magic; it’s code + delivery + objectives. Emphasize continuity: CIA (goals) + SecSDLC (controls) + malware (threat mechanics)."
      },

      /* Keep the rest of your slides array exactly as-is from your current file.
         Paste slides 2..end here unchanged. */
    ];

    const deck = document.getElementById('deck');
    const counter = document.getElementById('counter');
    const bar = document.getElementById('bar');
    const notes = document.getElementById('notes');
    const notesText = document.getElementById('notesText');
    const notesSlide = document.getElementById('notesSlide');

    let idx = 0;
    let gotoMode = false;
    let gotoBuf = "";

    function mdToHtml(md){
      return (md || "")
        .replace(/&/g, "&amp;")
        .replace(/</g, "&lt;")
        .replace(/>/g, "&gt;")
        .replace(/\*\*(.*?)\*\*/g, "<strong>$1</strong>")
        .replace(/\n/g, "<br>");
    }

    function createSlide(i, s){
      const el = document.createElement('section');
      el.className = 'slide';
      el.setAttribute('data-index', i);

      const isTitle = (i === 0);

      const top = document.createElement('div');
      top.className = 'topline mono';
      top.innerHTML = `
        <div class="d-flex align-items-center gap-2 flex-wrap">
          <span class="pip cyan"></span><span class="pip mag"></span><span class="pip lime"></span>
          <span>${(s.kicker || "SLIDE")} :: ${String(i+1).padStart(2,'0')}</span>
        </div>
        <div>IT 221 • Week 3</div>
      `;

      const h = document.createElement('h1');
      h.className = 'h1' + (isTitle ? ' glitch' : '');
      if(isTitle){ h.setAttribute('data-text', s.title); }
      h.innerText = s.title;

      const sub = document.createElement('div');
      sub.className = 'subtitle';
      sub.innerText = s.subtitle || '';

      const row = document.createElement('div');
      row.className = 'row g-3 mt-1';

      const leftCol = document.createElement('div');
      leftCol.className = (s.right !== undefined) ? 'col-12 col-lg-7' : 'col-12';
      const leftPanel = document.createElement('div');
      leftPanel.className = 'panel';
      leftPanel.innerHTML = `<div class="kicker">${isTitle ? 'MODULE' : 'CONTENT'}</div><div class="panel-content">${mdToHtml(s.left)}</div>`;
      leftCol.appendChild(leftPanel);
      row.appendChild(leftCol);

      if(s.right !== undefined){
        const rightCol = document.createElement('div');
        rightCol.className = 'col-12 col-lg-5';
        const rightPanel = document.createElement('div');
        rightPanel.className = 'panel';

        const isCode = (s.rightTitle || '').toLowerCase().includes('script') || (s.right || '').includes('@echo');
        rightPanel.innerHTML = `
          <div class="kicker">${(s.rightTitle || 'SIDEBAR').toUpperCase()}</div>
          ${isCode ? `<div class="codebox">${(s.right || '').replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;')}</div>` : `<div class="panel-content">${mdToHtml(s.right)}</div>`}
        `;
        rightCol.appendChild(rightPanel);
        row.appendChild(rightCol);
      }

      const meta = document.createElement('div');
      meta.className = 'meta';
      meta.innerHTML = `
        <div class="mono">SLIDE_${String(i+1).padStart(2,'0')} • THREAT_LANDSCAPE</div>
        <div class="mono d-flex gap-3 align-items-center">
          <span style="color: rgba(51,246,255,.9)">CONF</span>
          <span style="color: rgba(255,43,214,.9)">INT</span>
          <span style="color: rgba(124,255,107,.9)">AVAIL</span>
        </div>
      `;

      el.appendChild(top);
      el.appendChild(h);
      if(s.subtitle) el.appendChild(sub);
      el.appendChild(row);
      el.appendChild(meta);

      return el;
    }

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    function render(){
      deck.innerHTML = '';
      slides.forEach((s,i)=> deck.appendChild(createSlide(i,s)));
      idx = 0;
      update();
    }

    function update(){
      const all = [...deck.querySelectorAll('.slide')];
      all.forEach(el => el.classList.remove('active'));
      if(all[idx]) all[idx].classList.add('active');
      if(!all.some(el => el.classList.contains('active')) && all.length){
        all[0].classList.add('active');
        idx = 0;
      }

      counter.textContent = `${idx+1} / ${slides.length}`;
      bar.style.width = `${((idx+1)/slides.length)*100}%`;

      notesSlide.textContent = `Slide ${idx+1}`;
      notesText.textContent = slides[idx].notes || '(No notes for this slide)';

      const active = deck.querySelector('.slide.active');
      if(active) active.scrollTop = 0;
    }

    function next(){ idx = clamp(idx+1, 0, slides.length-1); update(); }
    function prev(){ idx = clamp(idx-1, 0, slides.length-1); update(); }
    function toggleNotes(){ notes.classList.toggle('visible'); }

    document.getElementById('nextBtn').addEventListener('click', next);
    document.getElementById('prevBtn').addEventListener('click', prev);
    document.getElementById('notesBtn').addEventListener('click', toggleNotes);

    window.addEventListener('keydown', (e) => {
      const k = e.key;

      if(gotoMode){
        if(k === 'Enter'){
          const n = parseInt(gotoBuf, 10);
          if(!Number.isNaN(n)){ idx = clamp(n-1, 0, slides.length-1); update(); }
          gotoMode = false; gotoBuf = ""; return;
        }
        if(k === 'Escape'){ gotoMode = false; gotoBuf = ""; return; }
        if(/\d/.test(k)){ gotoBuf += k; return; }
        return;
      }

      if(k === 'ArrowRight' || k === ' ' || k === 'PageDown'){ e.preventDefault(); next(); }
      if(k === 'ArrowLeft' || k === 'PageUp'){ e.preventDefault(); prev(); }
      if(k.toLowerCase() === 's'){ toggleNotes(); }

      if(/^[1-9]$/.test(k)){ idx = clamp(parseInt(k,10)-1, 0, slides.length-1); update(); }
      if(k === '0'){ idx = clamp(9, 0, slides.length-1); update(); }
      if(k.toLowerCase() === 'g'){ gotoMode = true; gotoBuf = ""; }
    });

    render();
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
          crossorigin="anonymous"></script>
</body>
</html>
